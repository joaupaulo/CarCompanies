apiVersion: apps/v1
kind: Deployment

metadata:
 name: car-companie-deployment
 labels:
    app: car-companie-deployment

spec:
  replicas: 1
  selector:
    matchLabels:
      app: car-companie-deployment
  strategy:
    rollingUpdate:
      maxSurge: 1
      maxUnavailable: 1
  minReadySeconds: 5
  template:
      metadata:
        labels:
          app: car-companie-deployment
      spec:
        containers:
          - name: test-deploy-container
            image: <IMAGE>
            securityContext:
              privileged: true
            ports:
              - name: http
                containerPort: 80
                hostPort: 80
            resources:
              requests:
                cpu: 100m
              limits:
                cpu: 100m

---

apiVersion: v1
kind: Service
metadata:
 name: car-companie-deployment
 labels:
    app: car-companie-deployment
spec:
  type: LoadBalancer
  ports:
    - name: http
      protocol: TCP
      port: 80
      targetPort: 5000
  selector:
    app: car-companie-deployment